<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Subjects - EduPortal</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo">EduPortal</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="upload.html">Upload</a>
    <a href="subjects.html" class="active">Subjects</a>
    <a href="view.html">Materials</a>
    <a href="about.html">About</a>
   

  </nav>
</header>

<section class="subjects-section view-section">
  <h2>Explore Subjects</h2>
  <div class="materials-container subjects-container" id="subjectsContainer"></div>
</section>

<footer>
  <p>&copy; 2025 EduPortal. All rights reserved.</p>
</footer>

<script>
async function fetchSubjects() {
  const container = document.getElementById('subjectsContainer');
  try {
    const res = await fetch('http://localhost:5000/api/materials');
    const data = await res.json();
    const subjects = [...new Set(data.map(mat => mat.subject))];
    subjects.forEach(sub => {
      const div = document.createElement('div');
      div.className = 'latest-card subject-card';
      div.innerHTML = `<h3>${sub}</h3><a href="view.html?subject=${sub}" class="btn">Explore</a>`;
      container.appendChild(div);
    });
  } catch(err){ container.innerHTML='<p>Failed to load subjects.</p>'; }
}
fetchSubjects();
</script>
</body>
</html>
